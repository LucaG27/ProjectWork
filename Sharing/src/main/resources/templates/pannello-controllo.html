<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- bootstrap icon-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
         <!--FONT-->
         <link rel="preconnect" href="https://fonts.googleapis.com">
         <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
         <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,wght@0,200;0,300;0,400;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,600;1,700;1,800;1,900&family=Prompt:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
              <link rel="preconnect" href="https://fonts.googleapis.com">
         <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
         <link href="https://fonts.googleapis.com/css2?family=Dosis:wght@200&family=Source+Serif+4:wght@200&display=swap" rel="stylesheet">
    <!-- font awsome-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="/css/print.css">
    <link rel="stylesheet" href="/css/pannello-controllo.css">
    <title>Pannello</title>
</head>

<body>
     <!-- NAVBAR-->
     <div class="container-nav">
        <nav class="navbar navbar-expand-lg fixed-top">
          <div class="container-fluid">
            <a class="navbar-brand" href="http://localhost:8080/">
                <img src="/img/Color_tè_scuro_Illustrativo_Consegne_Logo_servizi_di_consegna__2_-removebg-preview.png" alt="" width="130">
              </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <i class="bi bi-list"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                
        
              <ul class="navbar-nav ms-auto mb-2 mb-lg-0 ">
                <li class="nav-item">
                    <a class="nav-link" href="/">Home</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="/aboutus">Chi siamo</a>
                </li>
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Città</a>
                  <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <li><a class="dropdown-item" href="#">Milano</a></li>
                    <li><a class="dropdown-item" href="/roma">Roma</a></li>
                  </ul>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#contatti">Contatti</a>
                </li>
                <li class="nav-item verticalerule">
                    <a class="nav-link ">|</a>
                    </li>
                <li class="nav-item">
                  <a class="nav-link ms-2" id="pulsanteProfilo" href="#" tabindex="-1" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight"><i id="iconaProfilo" class="bi bi-person-circle"></i></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#"><i id="pannello" class="bi bi-gear-fill"></i></a>
            </li>
          </ul>

        </div>
      </div>
    </nav>
  </div>
<!-- FINE NAVBAR-->

    <div class="container-fluid">
        <div class="text-center">
            
        </div>
        <div class="row pb-5 pt-5">
            <div class="col-lg-2">
                <div class="">
                    <div class='tex'>
                        <ul class='nav navbar-nav side-nav fadeInLeft'>
                            <li class='dashboard'><a href='#'><i class='fa fa-lg fa-dashboard'></i> </a></li>
                            <li class='admin'><a href='#admin'><i class='fa fa-lg fa-user pe-2'></i> Admin</a></li>
                            <li onclick="loadCsv()" class='active docs'><a href='#'><i class='fa fa-lg fa-folder-open pe-1'></i> Carica CSV</a></li>
                            <li class='divider'>
                             <hr>
                            </li>
                            <li class='person-lookup text-muted'><a href='#personLookup'><i
                                        class='fa fa-lg fa-phone-square pe-2'></i> Person Lookup</a></li>
                            <li class='software-support text-muted'><a href='#softwareSupport'><i
                                        class='fa fa-lg fa-question-circle pe-2'></i> Support</a></li>
                            <li class='dashboard-updates' ><a href="/pannello-controllo/inserimento"><i
                                        class='fa fa-lg fa-arrow-up pe-2'></i> Aggiungi Veicolo</a></li>
                            <li id="print-button" class='print'><a href='#'><i class='fa fa-lg fa-print pe-2'></i> Stampa</a></li>
                        </ul>
                    </div>
                    </nav>
                </div>
            </div>
            
            <div class="col-lg-10">
                <!-- TABLE-->
                <div class="container">
                    
                    <div class="form-group">
                        <!--		Show Numbers Of Rows 		-->
                        
                    </div>
                    <div class="container  pt-4">
                        <div class="row">
                            <div class="col-md-offset-1">
                                <div class="panel">
                                    <div class="panel-heading">
                                        <div class="row">
                                            <div class="col col-sm-3 col-xs-12">
                                                <h4 class="title">Tabella <span id="titolo"></span></h4>
                                            </div>
                                            <div class="col-sm-9 col-xs-12 text-right">
                                                <div class="btn_group">
                                                    <input type="text" class="form-control text-muted cerca" placeholder="Cerca">
                                                    <button class="btn btn-default " title="Reload"><i class="fa fa-sync-alt"></i></button>
                                                    <button class="btn btn-default centro" id="filtroPrenotazioni" onclick="listaPrenotazioni()">Prenotazioni</button>
                                                    <button class="btn btn-default centro" id="filtroVeicoli" onclick="listaVeicoli()">Veicoli</button>
                                                    <select class="form-control seleziona" name="state" id="maxRows">
                                                        <option selected value="5000">Mostra tutte le righe</option>
                                                        <option value="5">5</option>
                                                        <option value="10">10</option>
                                                        <option value="15">15</option>
                                                        <option value="20">20</option>
                                                        <option value="50">50</option>
                                                        <option value="70">70</option>
                                                        <option value="100">100</option>
                                                    </select>
                            
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="table_rows" class="panel-body table-responsive">
                                <!--       <table class="table" id="table-id">
                                            <thead>
                                                <tr>
                                                    <th scope="col">categoria</th>
                                                    <th scope="col">descrizione</th>
                                                    <th scope="col">alimentazione</th>
                                                    <th hidden scope="col">ruote</th>
                                                    <th scope="col">disponibilita</th>
                                                    <th scope="col">indirizzo</th>
                                                    <th scope="col">citta</th>
                                                    <th scope="col">coordinate</th>
                                                    <th scope="col">azioni</th>
                    
                                                </tr>
                                            </thead>
                                            <tbody id="table_rows">
                                                <tr>
                                                    <td >{{veicolo_id}}</td>
                                                    <td >{{categoria}}</td>
                                                    <td>{{descrizione}}</td>
                                                    <td >{{alimentazione}}</td>
                                                    <td hidden>{{ruote}}</td>
                                                    <td >{{disponibilita}}</td>
                                                    <td>{{indirizzo}}</td>
                                                    <td >{{citta}}</td>
                                                    <td>{{coordinate}}</td>
                                                    <td>
                                                        <ul class="action-list d-flex">
                                                            <li><a href="#" data-tip="edit"><i class="fa fa-edit editButton"
                                                                veicolo-id="{{veicolo_id}}"></i></a></li>
                                                            <li><a href="#" data-tip="delete"><i class="fa fa-trash delButton"
                                                                veicolo-id="{{veicolo_id}}"></i></a></li>
                                                                <li>
                                                                    <a href="#" data-tip="image"><i class="bi bi-images imgButton" veicolo-id="{{veicolo_id}}"></i></a>
                                                                </li>
                                                        </ul>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table> --> 
                                    </div>
                                    <div class="panel-footer">
                                        <div class="row">
                                            <div class="col col-sm-6 col-xs-6">showing <b>5</b> out of <b>25</b> entries</div>
                                            <div class="col-sm-6 col-xs-6">
                                                <div class='pagination-container' >
                                                    <nav>
                                                      <ul class="pagination">
                                                
                                                <li data-page="prev" >
                                                                         <span> < <span class="sr-only">(current)</span></span>
                                                                        </li>
                                                       <!--	Here the JS Function Will Add the Rows -->
                                            <li data-page="next" id="prev">
                                                                           <span> > <span class="sr-only">(current)</span></span>
                                                                        </li>
                                                      </ul>
                                                    </nav>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                  

                    <!--		Start Pagination -->
                    
                </div>
</div>
</div>
</div>



            
  <!-- FOOTER -->
  <footer class="bg-dark text-center text-white pt-5 ">
    <!-- Grid container -->

    <!-- Section: Links -->
    <section class="container">
      <!--Grid row-->
      <div class="row">
        <!--Grid column-->
        <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
          <h5 class="text-uppercase">Move Italia</h5>

          <ul class="list-unstyled mb-0">
            <li>
              <a class="text-white">Chi Siamo</a>
            </li>
            <li>
              <a class="text-white">Lavora con Noi</a>
            </li>
            <li>
              <a class="text-white">Note legali</a>
            </li>
          </ul>
        </div>
        <!--Grid column-->

        <!--Grid column-->
        <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
          <h5 class="text-uppercase" id="contatti">Contatti</h5>

          <ul class="list-unstyled mb-0">
            <li>
              <a class="text-white">Tel. 0114472954</a>
            </li>
            <li>
              <a class="text-white">move@gmail.com</a>
            </li>
            <li>
              <a class="text-white" href="">Via Antonio Banfi 8 , MI 20212</a>
            </li>
          </ul>
        </div>
        <!--Grid column-->

        <!--Grid column-->
        <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
          <h5 class="text-uppercase">Links</h5>
          <ul class="list-unstyled mb-0">
            <li>
              <a href="#!" class="text-white">FAQ</a>
            </li>

           
              <li>
                <a href="#!" class="text-white">Cookies</a>
              </li>
              <li>
                <a href="#!" class="text-white">Privacy Policy</a>
              </li>
            </ul>
        </div>
        <!--Grid column-->

        <!--Grid column-->
        <div class="col-lg-3 col-md-6 mb-4 mb-md-0">

          <ul class="list-unstyled mb-0">
            <li class="">FOLLOW MOVE</li>
            <li>
              <div class="container p-4">
                <!-- Section: Social media -->
                <section class="mb-2">
                  <!-- Facebook -->
                  <a class="btn btn-outline-light btn-floating m-1 btn-footer" href="#!" role="button"><i
                      class="fab fa-facebook-f"></i></a>

                  <!-- Twitter -->
                  <a class="btn btn-outline-light btn-floating m-1 btn-footer" href="#!" role="button"><i
                      class="fab fa-twitter"></i></a>

                  <!-- Google -->
                  <a class="btn btn-outline-light btn-floating m-1 btn-footer" href="#!" role="button"><i
                      class="fab fa-google"></i></a>

                  <!-- Instagram -->
                  <a class="btn btn-outline-light btn-floating m-1 btn-footer" href="#!" role="button"><i
                      class="fab fa-instagram"></i></a>

                </section>
                <!-- Section: Social media -->
            </li>
            <li class="mb-3">
              <img
                src="https://images-ext-2.discordapp.net/external/NQOoWDHGCRghugM-nYJxFjFui11_9DV2GoeLoyF2StE/https/i.imgur.com/47q2YGt.png"
                alt="" width="150px">
                <img
                src="https://images-ext-2.discordapp.net/external/0DT8yuGJXWsNS6dtUToOH_GkuzDcJXlzvBImeT7vZyo/https/i.imgur.com/nkZP7fe.png"
                alt="" width="150px">
            </li>
            
          </ul>
        </div>
        <!--Grid column-->
      </div>
      <!--Grid row-->
    </section>
    <!-- Section: Links -->
    </div>
    <!-- Grid container -->

    <!-- Copyright -->
    <div class="text-center p-3">
      © 2022 Copyright: Move - All rights reserved

    </div>
    <!-- Copyright -->
  </footer>
  <!-- Footer -->

            <!--MODALI-->
            <div class="modal fade " id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Modifica dati auto</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <form>
                                <div class="container">
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="mb-3">
                                                <label for="id" class="form-label ">Id</label>
                                                <input type="text" class="form-control" id="veicolo_id"
                                                    aria-describedby="emailHelp" readonly>
                                            </div>
                                            <div class="mb-3">
                                                <label for="descrizione" class="form-label ">Categoria</label>
                                                <select id="categoria" class="form-select" aria-label="Default select example">
                                                    <option selected>Scegli categoria</option>
                                                    <option value="BICICLETTA">Bicicletta</option>
                                                    <option value="AUTO">Automobile</option>
                                                    <option value="MOTO">Moto</option>
                                                    <option value="MONOPATTINO">Monopattino</option>                                                   
                                                  </select>
                                            </div>
                                            <div class="mb-3">
                                                <label for="prezzo" class="form-label ">Descrizione</label>
                                                <input type="text" class="form-control" id="descrizione"
                                                    aria-describedby="emailHelp">
                                            </div>
                                            <div class="mb-3">
                                                <label for="alimentazione" class="form-label">Alimentazione</label>
                                                <select id="alimentazione" class="form-select" aria-label="Default select example">
                                                    <option selected>Scegli alimentazione</option>
                                                    <option value="BENZINA">Benzina</option>
                                                    <option value="ELETTRICA">Elettrica</option>
                                                    <option value="GPL">Gpl</option>
                                                    <option value="DIESEL">Diesel</option>
                                                    <option value="IBRIDA">Ibrida</option>
                                                  </select>
                                            </div>
                                            <div class="mb-3">
                                                <label for="rimanenza" class="form-label">Ruote</label>
                                                <select id="ruote" class="form-select" aria-label="Default select example">
                                                    <option selected>Scegli Nr. Ruote</option>
                                                    <option value="DUE RUOTE">2</option>
                                                    <option value="QUATTRO RUOTE">4</option>                                                   
                                                  </select>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">

                                            <div class="mb-3">
                                                <label for="rimanenza" class="form-label">Indirizzo</label>
                                                <input type="text" class="form-control" id="indirizzo"
                                                    aria-describedby="emailHelp">
                                            </div>
                                            <div class="mb-3">
                                                <label for="rimanenza" class="form-label">Città</label>
                                                <input type="text" class="form-control" id="citta"
                                                    aria-describedby="emailHelp">
                                            </div>
                                            <div class="mb-3">
                                                <label for="rimanenza" class="form-label">Coordinate</label>
                                                <input type="text" class="form-control" id="coordinate"
                                                    aria-describedby="emailHelp">
                                            </div>
                                            <div class="mb-3">
                                                <label for="rimanenza" class="form-label">Prezzo</label>
                                                <input type="text" class="form-control" id="prezzo"
                                                    aria-describedby="emailHelp">
                                            </div>
                                            <div class="mb-3 disponibile">
                                                <label for="rimanenza" class="form-label">Disponibile: </label>
                                                <input onclick="cambiaDisponibilita()" type="checkbox" id="disponibile" name="Disponibile" value="DISPONIBILE" />
                                                <input hidden type="text" id="disponibilita" value="DISPONIBILE" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Chiudi</button>
                                <button id="resetButton" veicolo-id="" type="button" class="btn btn-light"><i class="fas fa-redo-alt"></i></button>
                                <button id="updateButton" type="button" class="btn btn-primary">Aggiorna</button>
        
                            </div>
                        </form>
                    </div>
                    
                </div>
            </div>
        </div>

        <div class="modal fade" id="immaginiModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Inserisci un'immagine</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="container">
                            <div class="col">
                                <form action="/pannello-controllo/save" name="immagineForm" method="post"
                                    enctype="multipart/form-data">
                                    <h3 class="mb-3">Carica l'immagine:</h3>
                                    <input class="mb-3" type="number" name="veicoloId" id="upload_immagini" readonly />
                                    <input class="mb-3" type="file" name="image" accept="image/png, image/jpeg" multiple />
                                    <input class="btn mb-3" type="submit" value="Aggiungi">
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

            <div class="modal fade" id="csvModal" tabindex="-1" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Carica file CSV</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                            <div class="container">
                                <div class="col">
                                    <form action="/pannello-controllo/import" name="importCSV" method="post" enctype="multipart/form-data">
                                        <h3 class="mb-3">Import Veicoli CSV:</h3>
                                        <input type="file" name="fileCSV" accept=".csv" />
                                        <input type="submit" class="btn" value="Aggiungi">
                            </div>
                            </div>
                    </div>
                </div>
            </div>
        </div>

            <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Cancellazione veicolo</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                                <div class="container">
                                    <div class="col">
                                        <h5 class=" mb-3" id="exampleModalLabel">Sei sicuro di voler eliminare il veicolo?</h5>
                                        <div class="bottonii text-end pt-3">
                                            <button type="button" class="btn btn-secondary anul" data-bs-dismiss="modal" aria-label="Close">Annulla</button>
                                            <button type="button" veicolo-id="" id="confermaDelete" class="btn btn-primary">Confermo</button>
                                        </div>
                                </div>
                                </div>
                        </div>
                    </div>
                </div>
            </div>
           
            <div class="modal fade" id="deleteModalPrenotazione" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-body">
                                <div class="container">
                                    <div class="col">
                                        <h5 class="modal-title colore">Sei sicuro di voler terminare la prenotazione?</h5>
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" aria-label="Close">Chiudi</button>
                                        <button type="button" id="confermaTerminaPr" class="btn btn-primary">Confermo</button>
                                        <input id="prenotazione_id" type="number" hidden >
                                </div>
                                </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="deleteModalImmagine" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Cancellazione immagine</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                                <div class="container-fluid">
                                    <input id="segnaVeicoloId" type="number" hidden>
                                    <div id="tabellaImmagini" class="row">

                                    </div>
                                    <input id="daCancellare" type="number" hidden>
                                    <div>
                                        <div class="text-center" id="fotoDaCancellare">
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" aria-label="Close">Chiudi</button>
                                        <button type="button" id="confermaDelImg" class="btn btn-primary">Confermo</button>
                                    </div>
                                </div>
                                </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--FINE MODALI-->

              <!-- OFF CANVAS-->
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
            <div class="offcanvas-header text-center">
              <h5 id="offcanvasRightLabel">Menu</h5>
              <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body container text-end">
              <div class="ml-3 pd-5"><a href="/pannello-utente">Profilo Personale</a></div>
              <div class="ml-3 pd-5"><a id="logout" href="/logout">Logout</a></div>
            </div>
          </div>

  <!-- FINE OFF CANVAS-->

  <!-- HANDLEBARS -->

<script id="template-tabellaVeicoli" type="text/x-handlebars-template">
  <table class="table" id="table-id">
    <thead>
        <tr>
            <th scope="col">ID</th>
            <th scope="col">categoria</th>
            <th scope="col">descrizione</th>
            <th scope="col">alimentazione</th>
            <th hidden scope="col">ruote</th>
            <th scope="col">disponibilita</th>
            <th scope="col">indirizzo</th>
            <th scope="col">citta</th>
            <th scope="col">coordinate</th>
            <th id="immagg"scope="col">immagini</th>
            <th id="azioni"scope="col">azioni</th>

        </tr>
    </thead>
    <tbody>
        {{#each this}}
        <tr>
            <td >{{id}}</td>
            <td >{{categoria}}</td>
            <td>{{descrizione}}</td>
            <td >{{alimentazione}}</td>
            <td hidden>{{ruote}}</td>
            <td >{{disponibilita}}</td>
            <td>{{indirizzo}}</td>
            <td >{{citta}}</td>
            <td>{{coordinate}}</td>
            <td>
            {{#each immagine}}
                <img id="thumbnail" src="{{immagine}}" alt="">
            {{/each}}
            </td>
            <td>
                <ul class="action-list d-flex">
                    <li id="ico3">
                        <a href="#" data-tip="edit"><i class="fa fa-edit editButton"
                        veicolo-id="{{id}}"></i></a></li>
                    <li id="ico4">
                        <a href="#" data-tip="delete"><i class="fa fa-trash delButton"
                        veicolo-id="{{id}}"></i></a></li>
                        <li id="ico1">
                            <a href="#" data-tip="image"><i class="bi bi-images imgButton" veicolo-id="{{id}}"></i></a>
                        </li>
                        <li id="ico2">
                            <a href="#" data-tip="image"><i class="bi bi-file-earmark-image-fill delImg" veicolo-id="{{id}}"></i></a>
                        </li>
                </ul>
            </td>
        </tr>
        {{/each}}
    </tbody>
</table>
</script>

<script id="template-tabellaImmagini" type="text/x-handlebars-template">

        {{#each immagine}}
        <div class="gallery col-3">
            <a class="selezionaImmagine" immagine-id="{{id}}" image-id="{{immagine}}" onclick="selezionaImg(event)" href="#">
              <img class="border border-1 rounded hover-shadow anteprima" src="{{immagine}}" width="100" height="80">
            </a>
            <input  type="number" value="{{id}}" hidden>
          </div>
        {{/each}}


       
</script>


<script id="template-tabellaPrenotazioni" type="text/x-handlebars-template">
<table class="table" id="table-id">
    <thead>
        <tr>
            <th scope="col">Nome</th>
            <th scope="col">Cognome</th>
            <th scope="col">Veicolo</th>
            <th scope="col">Data inizio</th>
            <th scope="col">Data fine</th>
            <th scope="col"><a id="filtroStato" href="#" onclick="ordinaPrenotazioni()">Stato</a> </th>           

        </tr>
    </thead>
    <tbody>
        {{#each this}}
        {{#ifEquals stato "in corso"}}
        <tr>
            <td >{{utenteId.nome}}</td>
            <td >{{utenteId.cognome}}</td>
            <td >{{veicoloId.descrizione}}</td>
            <td>{{dataInizio}}</td>
            <td >{{dataFine}}</td>
            <td>{{stato}}</td>
            <td>
                <ul class="action-list d-flex">
                    <li><a href="#" data-tip="delete"><i class="fa fa-trash delButtonPrenotaz"
                        prenotazione-id="{{id}}"></i></a></li>
                </ul>
            </td>
        </tr>
        {{else}}
        <tr>
            <td >{{utenteId.nome}}</td>
            <td >{{utenteId.cognome}}</td>
            <td >{{veicoloId.descrizione}}</td>
            <td>{{dataInizio}}</td>
            <td >{{dataFine}}</td>
            <td>{{stato}}</td>
            <td>
                <ul class="action-list d-flex">
                </ul>
            </td>
        </tr>
        {{/ifEquals}}
        {{/each}}
    </tbody>
</table>

</script>  

<!-- HANDLEBARS -->

        <script>
            getPagination("#table-id");
            //getPagination('.table-class');
            //getPagination('table');

            /*					PAGINATION 
                      - on change max rows select options fade out all rows gt option value mx = 5
                      - append pagination list as per numbers of rows / max rows option (20row/5= 4pages )
                      - each pagination li on click -> fade out all tr gt max rows * li num and (5*pagenum 2 = 10 rows)
                      - fade out all tr lt max rows * li num - max rows ((5*pagenum 2 = 10) - 5)
                      - fade in all tr between (maxRows*PageNum) and (maxRows*pageNum)- MaxRows 
                      */

            function getPagination(table) {
                var lastPage = 1;

                $("#maxRows")
                    .on("change", function (evt) {
                        //$('.paginationprev').html('');						// reset pagination

                        lastPage = 1;
                        $(".pagination").find("li").slice(1, -1).remove();
                        var trnum = 0; // reset tr counter
                        var maxRows = parseInt($(this).val()); // get Max Rows from select option

                        if (maxRows == 5000) {
                            $(".pagination").hide();
                        } else {
                            $(".pagination").show();
                        }

                        var totalRows = $(table + " tbody tr").length; // numbers of rows
                        $(table + " tr:gt(0)").each(function () {
                            // each TR in  table and not the header
                            trnum++; // Start Counter
                            if (trnum > maxRows) {
                                // if tr number gt maxRows

                                $(this).hide(); // fade it out
                            }
                            if (trnum <= maxRows) {
                                $(this).show();
                            } // else fade in Important in case if it ..
                        }); //  was fade out to fade it in
                        if (totalRows > maxRows) {
                            // if tr total rows gt max rows option
                            var pagenum = Math.ceil(totalRows / maxRows); // ceil total(rows/maxrows) to get ..
                            //	numbers of pages
                            for (var i = 1; i <= pagenum;) {
                                // for each page append pagination li
                                $(".pagination #prev")
                                    .before(
                                        '<li data-page="' +
                                        i +
                                        '">\
								  <span><a href="">' +
                                        i++ +
                                        '</a><span class="sr-only">(current)</span></span>\
								</li>'
                                    )
                                    .show();
                            } // end for i
                        } // end if row count > max rows
                        $('.pagination [data-page="1"]').addClass("active"); // add active class to the first li
                        $(".pagination li").on("click", function (evt) {
                            // on click each page
                            evt.stopImmediatePropagation();
                            evt.preventDefault();
                            var pageNum = $(this).attr("data-page"); // get it's number

                            var maxRows = parseInt($("#maxRows").val()); // get Max Rows from select option

                            if (pageNum == "prev") {
                                if (lastPage == 1) {
                                    return;
                                }
                                pageNum = --lastPage;
                            }
                            if (pageNum == "next") {
                                if (lastPage == $(".pagination li").length - 2) {
                                    return;
                                }
                                pageNum = ++lastPage;
                            }

                            lastPage = pageNum;
                            var trIndex = 0; // reset tr counter
                            $(".pagination li").removeClass("active"); // remove active class from all li
                            $('.pagination [data-page="' + lastPage + '"]').addClass("active"); // add active class to the clicked
                            // $(this).addClass('active');					// add active class to the clicked
                            limitPagging();
                            $(table + " tr:gt(0)").each(function () {
                                // each tr in table not the header
                                trIndex++; // tr index counter
                                // if tr index gt maxRows*pageNum or lt maxRows*pageNum-maxRows fade if out
                                if (
                                    trIndex > maxRows * pageNum ||
                                    trIndex <= maxRows * pageNum - maxRows
                                ) {
                                    $(this).hide();
                                } else {
                                    $(this).show();
                                } //else fade in
                            }); // end of for each tr in table
                        }); // end of on click pagination list
                        limitPagging();
                    })
                    //.val(5);
                    //.change();

                // end of on select change

                // END OF PAGINATION
                //
               
            }


            function limitPagging() {
                // alert($('.pagination li').length)

                if ($(".pagination li").length > 7) {
                    if ($(".pagination li.active").attr("data-page") <= 3) {
                        $(".pagination li:gt(5)").hide();
                        $(".pagination li:lt(5)").show();
                        $('.pagination [data-page="next"]').show();
                    }
                    if ($(".pagination li.active").attr("data-page") > 3) {
                        $(".pagination li:gt(0)").hide();
                        $('.pagination [data-page="next"]').show();
                        for (
                            let i = parseInt($(".pagination li.active").attr("data-page")) - 2;
                            i <= parseInt($(".pagination li.active").attr("data-page")) + 2;
                            i++
                        ) {
                            $('.pagination [data-page="' + i + '"]').show();
                        }
                    }
                }
            }

            $(function () {
                // Just to append id number for each row
                $("table tr:eq(0)").prepend("<th> ID </th>");

                var id = 0;

                $("table tr:gt(0)").each(function () {
                    id++;
                    $(this).prepend("<td>" + id + "</td>");
                });
            });


        </script>
        <script src="/js/print.js"></script>
        <!--bootstrap-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0/handlebars.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"></script>
        <script src="/js/pannello-controllo.js"></script>
</body>

</html>